## 개념

--------------------------
### 색션2. 웹 애플리케이션 이해

※ 동시 요청 - 멀티 쓰레드
- 멀티 쓰레드에 대한 부분은 WAS가 처리
- 개발자가 멀티 쓰레드 관련 코드를 신경쓰지 않아도 됨
- 개발자는 마치 싱글 쓰레드 프로그래밍을 하듯이 편리하게 소스 코드를 개발
- 멀티 쓰레드 환경이므로 싱글톤 객체(서블릿, 스프링 빈)는 주의해서 사용

※ 
- SSR - 서버 사이드 렌더링 
  + 서버에서 최종 HTML을 생성해서 클라이언트에 전달
- CSR - 클라이언트 사이드 렌더링
  + HTML 결과를 자바스크립트를 사용해 웹 브라우저에서 동적으로 생성해서 적용
  + 주로 동적인 화면에 사용, 웹 환경을 마치 앱 처럼 필요한 부분부분 변경할 수 있음
    + ex ) 구글 지도, gmail, 캘린더 

※ 자바 백엔드 웹 기술 역사
- WebFlux
  - 특징
    - 비동기 넌 블러킹 처리
    - 최소 쓰레드로 최대 성능 - 쓰레드 컨텍스트 스위칭 비용 효율화
    - 함수형 스타일로 개발 - 동시 처리 코드 효율화
    - 서블릿 기술 사용 X

### 색션3. 서블릿

※ HttpServletRequest 개요
- 역할
  - HTTP 요청 메시지를 파싱
- 요청 메시지
  - Start Line
    - http 메소드
    - url
    - 쿼리 스트링
    - 스키마, 프로토콜
  - 헤더
    - 헤더 조회
  - 바디
    - form 파라미터 형식 조회
    - message body 데이터 직접 조회
  - **임시 저장소 기능**
    - 해당 HTTP 요청이 시작부터 끝날 때 까지 유지되는 임시 저장소 기능
    - 저장 : `request.setAttribute(name, value)`
    - 조회 : `request.setAttribute(name)`
  - **세션 관리 기능**
    - `request.getSession(create: true)`

※ HTTP 요청 데이터 - 개요
- **GET** - 쿼리 파라미터
  - /url?username=lim?age=29
  - 메시지 바디 없이, URL의 쿼리 파라미터에 데이터를 포함해서 전달
  - ex) 검색, 필터, 페이징등에서 많이 사용하는 방식
- **POST** - HTML Form
  - content-type : application/x-www-form-urlencoded
  - 메시지 바디에 쿼리 파라미터 형식으로 전달 : username=lim?age=29
  - ex) 회원 가입, 상품 주문, HTML Form 사용
- **HTTP message body**에 데이터를 직접 담아서 요청
  - HTTP API에서 주로 사용, JSON, XML, TEXT
  - 데이터 형식은 주로 JSON
  - POST, PUT, PATCH

--------------------------
### 색션3. 서블릿, JSP, MVC 패턴

※ Model View Controller
하나의 서블릿이나, jsp로 처리하던 것을 컨트롤터와 뷰라는 영여으로 서로 나눈 것
- **Controller**
  -  HTTP 요청을 받아서 파라미터를 검증하고, 비즈니스 로직을 실행한다. 그리고 뷰에 전달할 결과 데이터를 조회해서 모델에 담는다.
- **Modell**
  - 뷰에 출력할 데이터를 담아둔다.
  - 뷰가 필요한 데이터르 모두 모델에 담아서 전달해주는 덕분에 뷰는 비즈니스 로직이나 데이터 접근을 몰라도되고, 화면을 렌더링 하는 일에 집중할 수 있다.
- **View**
  - 모델에 담겨있는 데이터를 사용해서 화면을 그리는 일에 집중한다. 여기서는 html을 생성하는 부분을 말한다.

--------------------------
### 색션4. MVC 프레임워크 만들기

※ 프론트 컨트롤러 패턴 소개
- 프론트 컨트롤러 서블릿 하나로 클라이언트의 요청을 받음
- 프론트 컨트롤러가 요청에 맞는 컨트로러를 찾아서 호출
- 압구를 하나로!
- 공통 처리 기능
- 프론트 컨트롤러를 제외한 나머지 컨트롤러는 서블릿을 사용하지 않아도 됨

※ 스프링 웹 MVC와 프론트 컨트롤러
- 핵심은 `FrontController`
- `DispatcherServlet`이 FrontController 패턴으로 구현되어 있음.

※ V3  서블릿 종속성 제거
- 컨트롤러 입장에서는 HttpServletRequest, HttpServletResponse 가 꼭 필요하지 않다.
  - 요청 파라 미터 정보는 자바의 Map으로 대신 넘기도록 하면 컨트롤러가 서블릿 기술을 몰라도 동작할 수 있다.
  - request 객체를 Model로 사용하는 대신에 별도의 Model 객체를 만들어서 반환하면 된다.
- 뷰 이름 중복 제거
  - V2 컨트롤러에 지정하는 뷰 이름에 중복이 있는 것을 확인
  - 프론트 컨트롤러에서 처리하도록 단순화

※ V4 단순하고 실용적인 컨트롤러

※ V5 유연한 컨트롤러
- 어댑터 패턴
  - 다양한 컨트롤러 인터페이스를 무리 없이 사용하기 위한 패턴
- 핸들러 어댑터
  - frontController 와 핸들러(컨트롤러) 사이 중간 역할
  - 해당 어댑터로인해 다양한 종류의 컨트롤러 호출 가능
- 핸들러
  - 컨트롤러의 이름을 더 넓은 범위인 핸들러로 변경
  - 이유는 어댑터가 있기 때문에 컨트롤러의 개념 뿐만 아니라 어떠한 것이든 해당하는 종류의 어댑터만 있으면 다 처리할 수 있기 때문